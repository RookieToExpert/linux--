## 账号管理

### 新增与移除用户：useradd，usermod，userdel 相关配置文件：passwd

#### useradd
*使用方法：*

![0](/img/15Chapter/Capture5.PNG)

*工作原理：*
- 在 **/etc/passwd** 创建一行账号信息
- 在 **/etc/shadow** 里面将密码参数填入，但是尚未有密码
- 在 **/etc/group** 加入一个与账号名称一模一样的群组


*使用范例：*
1. 创建一个用户：
```Shell
# 由于/etc/login.defs中没有CREATE_HOME,所以不会默认创建home目录，使用-m参数强行创建
ray@HongKongVPS:~$ sudo useradd -m vbird1
ray@HongKongVPS:~$ ll -d /home/vbird1/
drwxr-x--- 2 vbird1 vbird1 4096 Feb  7 06:07 /home/vbird1//
```

2. 规定新用户的uid和初始群组：
```Shell
# 创建一个uid1500，初始群组为vbird1的用户
ray@HongKongVPS:~$ sudo useradd -u 1500 -g vbird1 -m  vbird2
# 查看home dir
ray@HongKongVPS:~$ ll -d /home/vbird2
drwxr-x--- 2 vbird2 vbird1 4096 Feb  7 06:15 /home/vbird2/
# 验证
ray@HongKongVPS:~$ sudo grep vbird2 /etc/passwd /etc/shadow /etc/group
/etc/passwd:vbird2:x:1500:1001::/home/vbird2:/bin/sh
/etc/shadow:vbird2:!:20126:0:99999:7:::
```

3. 创建系统用户：
```Shell
ray@HongKongVPS:~$ sudo useradd -r vbird3
# 系统账户没有home dir，并且uid gid都小于1000
ray@HongKongVPS:~$ sudo grep vbird3 /etc/passwd /etc/shadow /etc/group
/etc/passwd:vbird3:x:997:986::/home/vbird3:/bin/sh
/etc/shadow:vbird3:!:20126::::::
/etc/group:vbird3:x:986:
```

```Shell

```
#### passwd
> 由于useradd只会创建账号而没有密码，需要passwd单独创建密码
*使用方法：*
