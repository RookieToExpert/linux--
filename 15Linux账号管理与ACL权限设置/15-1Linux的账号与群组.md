## Linux的账号与群组
### UID与GID
1. 使用者识别码，user ID和group ID
2. 当你利用tty1~tty6终端机提供的login接口输入账号密码后，系统会：
    - 先寻找/etc/passwd是否有你输入的账号
        - 没有会跳出
        - 有的话会继续到/etc/shadow，找到对应的账号和UID，核对密码是否正确
            - 正确则进入shell，否则返回错误

### /etc/passwd和/etc/shadow
#### /etc/passwd
*示意图片：*

![0](/img/15Chapter/Capture.PNG)

1. 每一行代表一个账号，其中像bin,daemon等式系统账号
2. 每一行用7个':'分割，以下每一格分别是：
    1. **账号名称**：就是登陆的账号
    2. **密码**：早期Unix系统密码就是放在这一段，由于这个文件的特性式所有程序都能读取，比较危险，所以目前这个**字段都放到/etc/shadow**并且现在**被'x'替代**
    3. **UID**：
        > ID范围：
        > 0(系统管理员)：可以将其他账号的UID设置成0使其成为系统管理员(root)
        > 1~999(系统账号)：与其他用户账号权限没有差异，通常是不可登陆的
        > - 1~200：由distributions自行创建的系统账号
        > - 201~999：若使用者有系统账号需求时，可以创建
        > 1000~60000(可登录账号)：目前linux核心(3.10.x)可以支持到4294967295(2^32-1)的UID号码
    4. **GID**：就是群组ID
    5. **使用者信息说明栏**：解释账号的意义
    6. **主文件夹**：默认主文件夹在/home/yourIDname，可以在这里修改到其他地方
    7. **Shell**：默认使用bash作为shell，其中/sbin/nologin是让账号无法取得shell环境的动作

#### /etc/shadow
*示意图片：*

![0](/img/15Chapter/Capture1.PNG)

1. 每一行同样用':'分割：
    1. **账号名称**：必须和/etc/passwd相同
    2. **密码**：经过编码加密的密码(目前大部分用SHA加密)
    3. **最近修改密码的日期**：是从1970-1-1累计到现在的天数
    4. **密码不可被更改的天数**：记录了密码**被更改后**需要**经过几天才能再被更改**
    5. **密码需要重新变更的天数**：密码需要在**多少天内被强制更改**
    6. **密码需要变更前的警告天数**：密码过期的前x天，发出警告
    7. **密码过期后的账号宽限时间**：过了宽限时间，此密码就**从过期变为失效**
    8. **账号失效日期**：规定一个账号的有效时间
    9. **保留**：看以后有没有新的功能加入